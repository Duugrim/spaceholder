{{!-- Injuries Tab Content --}}
<div class="injuries-container" style="display: block; width: 100%;">
  <div class="injuries-list" style="margin-bottom: 12px;">
    <div class="rimworld-header"><i class="fas fa-bandage"></i> Травмы</div>

    {{#if injuriesList}}
    <table class="injuries-table" style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr>
          <th style="text-align:left; padding: 4px;">Часть</th>
          <th style="text-align:right; padding: 4px;">Урон</th>
          <th style="text-align:left; padding: 4px;">Тип</th>
          <th style="text-align:left; padding: 4px;">Статус</th>
          <th style="text-align:left; padding: 4px;">Источник</th>
          <th style="text-align:left; padding: 4px;">Когда</th>
          <th style="text-align:center; padding: 4px;">Действия</th>
        </tr>
      </thead>
      <tbody>
        {{#each injuriesList as |inj|}}
        <tr class="injury-row" data-injury-id="{{inj.id}}" style="border-top: 1px solid var(--color-border,#666);">
          <td style="padding: 4px;">{{inj.partName}}</td>
          <td style="padding: 4px; text-align:right;">{{inj.amountDisplay}}</td>
          <td style="padding: 4px;">{{inj.type}}</td>
          <td style="padding: 4px;">{{inj.status}}</td>
          <td style="padding: 4px;">{{inj.source}}</td>
          <td style="padding: 4px;">{{inj.createdAtText}}</td>
          <td style="padding: 4px; text-align:center; white-space: nowrap;">
            <button type="button" class="injury-edit-btn" data-action="injury-edit" data-injury-id="{{inj.id}}" title="Редактировать"><i class="fas fa-pen"></i></button>
            <button type="button" class="injury-delete-btn" data-action="injury-delete" data-injury-id="{{inj.id}}" title="Удалить"><i class="fas fa-trash"></i></button>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{else}}
      <p><em>Пока нет травм</em></p>
    {{/if}}
  </div>

  <div class="injuries-add" style="margin-top: 12px;">
    <div class="rimworld-header"><i class="fas fa-plus"></i> Добавить травму</div>
    <div class="form-group" style="display:flex; gap: 8px; flex-wrap: wrap; align-items: center;">
      <label for="injury-part">Часть</label>
      <select id="injury-part" style="flex:1 1 140px;">
        {{#each bodyPartSelectOptions as |opt|}}
          <option value="{{opt.id}}">{{opt.name}}</option>
        {{/each}}
      </select>

      <label for="injury-amount">Урон</label>
      <input id="injury-amount" type="number" step="0.01" min="0" style="width:100px;" placeholder="0.00" />

      <label for="injury-type">Тип</label>
      <input id="injury-type" type="text" style="width:120px;" placeholder="(опционально)" />

      <label for="injury-status">Статус</label>
      <input id="injury-status" type="text" style="width:120px;" placeholder="(опционально)" />

      <label for="injury-source">Источник</label>
      <input id="injury-source" type="text" style="width:160px;" placeholder="(опционально)" />

      <button type="button" data-action="injury-add" class="injury-add-btn" style="margin-left:auto;">
        <i class="fas fa-check"></i> Добавить
      </button>
    </div>
  </div>
</div>
