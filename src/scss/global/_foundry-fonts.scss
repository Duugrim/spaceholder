// Foundry core typography override (in-world only)
// Goal: replace Signika/Palatino fallback with a Cyrillic-friendly UI font.
// Scope: body.game (world UI), so Setup screen is unaffected.

body.game {
  // Core variables (Foundry v13)
  --font-sans: #{$font-primary};
  --font-serif: #{$font-primary};

  --font-body: var(--font-sans);
  --font-blockquote: var(--font-sans);

  // Headings (avoid non-cyrillic decorative fonts in Russian UI)
  --font-h1: var(--font-sans);
  --font-h2: var(--font-sans);
  --font-h3: var(--font-sans);
  --font-h4: var(--font-sans);
  --font-h5: var(--font-sans);
  --font-h6: var(--font-sans);

  // Legacy variable still used in some parts of the UI
  --font-primary: var(--font-sans);
}

// Some legacy rules set --font-primary on .app; override there as well.
body.game .app {
  --font-primary: var(--font-sans);
}

// Token Config (v13): prevent icon/label wrapping inside tab buttons after font changes.
// Scope narrowly to token config apps to avoid impacting other sheets.
body.game .app.token-config,
body.game .app.prototype-token-config {
  nav.sheet-tabs {
    [data-tab] {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: nowrap;
      min-width: 0;
    }

    [data-tab] > i {
      flex: 0 0 auto;
    }

    [data-tab] > span {
      min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  }
}
